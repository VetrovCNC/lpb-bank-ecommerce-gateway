# LPB Bank E-commerce Gateway

## Настройки

- MID (Interface Code) - его вам выдал менеджер при регистрации в системе
  “Medoro”.
- Индекс ключа (Key Index) - после того, как вы закачаете выданный вам
  публичный ключ в систему “Medoro”, то в списке появится ключ под
  присвоенным ему номером.
- Публичный ключ системы “Medoro” (Gateway Key) - закачайте публичную
  часть ключа торговца в интерфейс торговца (ipsp.lv→ Merchants → your mid →
  Keys). Затем скачайте из этой же системы публичную часть банковского ключа
  (Gateway Key).
- Приватный ключ торговца (Merchant Key) - его генерирует ваш ИТ-
  специалист с помощью OpenSSL.

Примеры openssl команд для генерации RSA ключей:

```
$ openssl genrsa -out privkey.pem 2048`
$ openssl rsa -in privkey.pem -pubout -out pubkey.pem`
```

Настройки находятся в файле `./lpb_bank/settings.py`

Ключи можно как вставлять содержимое файла ключа так и в виде пути к файлу.

## Зависимости

```
Flask==2.2.3
lxml==4.9.2
pycryptodome==3.17
suds==1.1.2
```

Flask нужен только, чтобы посмотреть работу Формы платежа и Формы регистрации токена

## Запуск демонстрации работы

Создадим виртуальное окружение:

1. `$ python3 -m venv <env_name>`

Активируем его:

2. `$ . <env_name>/bin/activate`

Установим зависимости:

3. `$ pip install -r requirements.txt`

Запустим приложение Flask:

4. `$ python app.py`
